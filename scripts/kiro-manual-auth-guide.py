#!/usr/bin/env python3
"""
–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä—É—á–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Kiro
"""

import sys
import webbrowser
from urllib.parse import urlparse, parse_qs

def print_header():
    print("üîê –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –†–£–ß–ù–û–ô –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò KIRO")
    print("=" * 60)
    print()

def print_step(step_num, title, description):
    print(f"üìã –®–ê–ì {step_num}: {title}")
    print("-" * 40)
    print(description)
    print()

def main():
    print_header()
    
    print_step(1, "–ó–ê–ü–£–°–ö –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò –í –ú–ï–ù–ï–î–ñ–ï–†–ï", 
        """1. –û—Ç–∫—Ä–æ–π—Ç–µ DroidGravity Manager
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É 'Add Account'
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É 'OAuth'
4. –ù–∞–∂–º–∏—Ç–µ 'Start OAuth' - –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä
5. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google –∞–∫–∫–∞—É–Ω—Ç""")
    
    print_step(2, "–û–¢–ö–†–´–¢–ò–ï DEVTOOLS –í –ë–†–ê–£–ó–ï–†–ï",
        """1. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É 'Network' (–°–µ—Ç—å)
3. –í–∫–ª—é—á–∏—Ç–µ –∑–∞–ø–∏—Å—å —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ (–∫–Ω–æ–ø–∫–∞ –∑–∞–ø–∏—Å–∏)
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é""")
    
    print_step(3, "–ü–û–ò–°–ö –¢–û–ö–ï–ù–û–í –í NETWORK TAB",
        """–ù–∞–π–¥–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ —ç—Ç–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
‚Ä¢ 'GetToken' - —Å–æ–¥–µ—Ä–∂–∏—Ç accessToken –∏ refreshToken
‚Ä¢ 'token' - –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–∫–µ–Ω—ã
‚Ä¢ –ó–∞–ø—Ä–æ—Å—ã –∫ 'app.kiro.dev/api/v1/GetToken'

–í –æ—Ç–≤–µ—Ç–µ (Response) –Ω–∞–π–¥–∏—Ç–µ:
‚Ä¢ "accessToken": "aoaAAAAAGmV..."
‚Ä¢ "refreshToken": "aorAAAAAGoM..."
‚Ä¢ "profileArn": "arn:aws:codewhisperer:..."
‚Ä¢ "expiresIn": 3600""")
    
    print_step(4, "–ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –°–ü–û–°–û–ë - LOCAL STORAGE",
        """1. –í DevTools –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É 'Application'
2. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ 'Local Storage'
3. –í—ã–±–µ—Ä–∏—Ç–µ 'https://app.kiro.dev'
4. –ù–∞–π–¥–∏—Ç–µ –∫–ª—é—á–∏ —Å —Ç–æ–∫–µ–Ω–∞–º–∏:
   ‚Ä¢ kiro_access_token
   ‚Ä¢ kiro_refresh_token
   ‚Ä¢ kiro_profile_arn""")
    
    print_step(5, "–í–í–û–î –¢–û–ö–ï–ù–û–í –í –ú–ï–ù–ï–î–ñ–ï–†",
        """1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ DroidGravity Manager
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É 'Token'
3. –í—Å—Ç–∞–≤—å—Ç–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã:
   ‚Ä¢ Access Token: aoaAAAAAGmV...
   ‚Ä¢ Refresh Token: aorAAAAAGoM...
4. –ù–∞–∂–º–∏—Ç–µ 'Add Account'""")
    
    print("üéØ –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´:")
    print("-" * 20)
    print("‚Ä¢ –¢–æ–∫–µ–Ω—ã –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–µ (200+ —Å–∏–º–≤–æ–ª–æ–≤)")
    print("‚Ä¢ Access Token –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 'aoaAAAAA'")
    print("‚Ä¢ Refresh Token –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 'aorAAAAA'")
    print("‚Ä¢ Profile ARN —Å–æ–¥–µ—Ä–∂–∏—Ç 'codewhisperer'")
    print("‚Ä¢ –¢–æ–∫–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã 1 —á–∞—Å (3600 —Å–µ–∫—É–Ω–¥)")
    print()
    
    print("üîß –û–¢–õ–ê–î–ö–ê:")
    print("-" * 10)
    print("‚Ä¢ –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å–æ–≤ - –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É")
    print("‚Ä¢ –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–µ—Ç –≤ Local Storage - –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é")
    print("‚Ä¢ –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 'invalid_client_secret' - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –∏—â–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ DevTools")
    print()
    
    print("‚úÖ –£–°–ü–ï–•!")
    print("-" * 10)
    print("–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ –≤—ã —Å–º–æ–∂–µ—Ç–µ:")
    print("‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏ Kiro (Claude, DeepSeek, Minimax, Qwen)")
    print("‚Ä¢ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞")
    print("‚Ä¢ –†–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ Kiro –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏")
    print()

if __name__ == "__main__":
    main()